{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/global/window.js","webpack:///./js/jarallax.js","webpack:///./node_modules/jarallax/src/jarallax.esm.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/jarallax/src/jarallax-element.esm.js","webpack:///./node_modules/jarallax/index.js","webpack:///./node_modules/video-worker/src/video-worker.esm.js","webpack:///./node_modules/jarallax/src/jarallax-video.esm.js","webpack:///./node_modules/lite-ready/liteready.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","win","window","global","self","setup","elements","document","getElementsByClassName","length","speed","readyState","setTimeout","addEventListener","navigator","isIE","userAgent","indexOf","isMobile","test","supportTransform","prefixes","split","div","createElement","undefined","style","$deviceHelper","wndH","updateWndVars","body","cssText","appendChild","clientHeight","innerHeight","documentElement","jarallaxList","updateParallax","forEach","data","k","instance","oldData","clientRect","$item","getBoundingClientRect","newData","width","height","top","bottom","wndW","innerWidth","isResized","isScrolled","onResize","onScroll","requestAnimationFrame","instanceID","Jarallax","item","userOptions","this","defaults","type","imgSrc","imgElement","imgSize","imgPosition","imgRepeat","keepImg","elementInViewport","zIndex","disableParallax","disableVideo","videoSrc","videoStartTime","videoEndTime","videoVolume","videoLoop","videoPlayOnlyVisible","videoLazyLoading","onInit","onDestroy","onCoverImage","dataOptions","dataset","pureDataOptions","keys","loweCaseOption","substr","toLowerCase","options","extend","pureOptions","Math","min","max","parseFloat","RegExp","disableParallaxRegexp","disableVideoRegexp","elementInVP","Element","image","src","$container","useImgTag","position","initImg","canInitParallax","init","el","styles","getComputedStyle","getPropertyValue","transform","out","args","clientWidth","y","scrollTop","$imgElement","querySelector","Image","cloneNode","$itemParent","parentNode","bgImage","css","containerStyles","left","overflow","imageStyles","pointerEvents","transformStyle","backfaceVisibility","willChange","curStyle","getAttribute","setAttribute","curImgStyle","opacity","$parents","elem","parents","parentElement","nodeType","push","getParents","filter","parentTransform","addToParallaxList","splice","removeFromParallaxList","originalStylesTag","removeAttribute","originalStylesImgTag","$clipStyles","removeChild","jarallax","rect","head","getElementsByTagName","styleSheet","innerHTML","contH","isScroll","scrollDist","resultH","resultMT","abs","parallaxScrollDistance","marginTop","container","isElementInViewport","force","contT","viewportRect","right","beforeTop","beforeTopEnd","afterTop","beforeBottom","beforeBottomEnd","afterBottom","fromViewportCenter","visiblePercent","scale","positionY","section","coverImage","clipContainer","plugin","items","HTMLElement","nodeName","len","ret","apply","constructor","g","Function","e","jarallaxElement","def","threshold","speedArr","speedY","speedX","thresholdArr","thresholdY","thresholdX","defTransform","itemData","getWindowData","x","wnd","centerPercent","moveY","moveX","my","mx","default","jarallaxVideo","Deferred","doneCallbacks","failCallbacks","list","Array","slice","execute","callback","ID","YoutubeAPIadded","VimeoAPIadded","loadingYoutubePlayer","loadingVimeoPlayer","loadingYoutubeDefer","loadingVimeoDefer","url","options_default","autoplay","loop","mute","volume","showContols","startTime","endTime","videoID","parseURL","loadAPI","Youtube","ytUrl","match","getYoutubeID","Vimeo","vmUrl","getVimeoID","Local","locUrl","videoFormats","result","ready","val","getLocalVideos","userEventsList","start","player","playVideo","seekTo","YT","PlayerState","PLAYING","getPlayerState","setCurrentTime","getPaused","then","paused","play","currentTime","pauseVideo","pause","setVolume","$video","muted","unMute","getVolume","isMuted","videoImage","availableSizes","step","tempImg","onload","naturalWidth","request","XMLHttpRequest","open","onreadystatechange","status","response","JSON","parse","responseText","thumbnail_large","send","getVideo","onAPIready","hiddenDiv","display","ytStarted","ytProgressInterval","playerOptions","host","videoId","playerVars","autohide","rel","playsinline","iv_load_policy","modestbranding","controls","showinfo","disablekb","events","target","fire","secondsOffset","getDuration","setInterval","ENDED","PAUSED","getCurrentTime","clearInterval","firstInit","playerID","Player","getElementById","videoWidth","parseInt","videoHeight","dnt","id","autopause","transparent","badge","byline","portrait","title","background","playerOptionsString","encodeURIComponent","vmStarted","getVideoWidth","getVideoHeight","on","seconds","locStarted","element","source","addSourceToLocal","tag","loaded","done","onYouTubeIframeAPIReady","resolve","vimeoInterval","defOnScroll","isVideoInserted","video","$parent","maxWidth","maxHeight","margin","tagName","defCoverImage","imageData","node","h","w","ml","mt","marginLeft","defInitImg","defaultResult","defaultInitImgResult","defCanInitParallax","resetDefaultImage","$default_item","isValid","oldOnScroll","videoError","videoEnded","isVisible","getImageURL","defDestroy","destroy","attachEvent"],"mappings":"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","file":"jarallax.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","// noinspection ES6CheckImport\nimport {jarallax} from 'jarallax';\n\nfunction setup() {\n    var elements = document.getElementsByClassName('parallax');\n    for (var i = 0; i < elements.length; i++) {\n        new jarallax(elements[i], {\n            speed: 0.2\n        });\n    }\n}\n\n(function () {\n    if (document.readyState === 'complete' || document.readyState === 'interactive') {\n        setTimeout(setup, 1);\n    } else {\n        document.addEventListener('DOMContentLoaded', setup);\n    }\n})();","import domReady from 'lite-ready';\nimport { window } from 'global';\n\nconst {\n    navigator,\n} = window;\n\nconst isIE = -1 < navigator.userAgent.indexOf( 'MSIE ' ) || -1 < navigator.userAgent.indexOf( 'Trident/' ) || -1 < navigator.userAgent.indexOf( 'Edge/' );\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test( navigator.userAgent );\n\nconst supportTransform = ( () => {\n    const prefixes = 'transform WebkitTransform MozTransform'.split( ' ' );\n    const div = document.createElement( 'div' );\n    for ( let i = 0; i < prefixes.length; i += 1 ) {\n        if ( div && div.style[ prefixes[ i ] ] !== undefined ) {\n            return prefixes[ i ];\n        }\n    }\n    return false;\n} )();\n\nlet $deviceHelper;\n\n/**\n * The most popular mobile browsers changes height after page scroll and this generates image jumping.\n * We can fix it using this workaround with vh units.\n */\nfunction getDeviceHeight() {\n    if ( ! $deviceHelper && document.body ) {\n        $deviceHelper = document.createElement( 'div' );\n        $deviceHelper.style.cssText = 'position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;';\n        document.body.appendChild( $deviceHelper );\n    }\n\n    return ( $deviceHelper ? $deviceHelper.clientHeight : 0 ) || window.innerHeight || document.documentElement.clientHeight;\n}\n\n// Window height data\nlet wndH;\nfunction updateWndVars() {\n    if ( isMobile ) {\n        wndH = getDeviceHeight();\n    } else {\n        wndH = window.innerHeight || document.documentElement.clientHeight;\n    }\n}\nupdateWndVars();\nwindow.addEventListener( 'resize', updateWndVars );\nwindow.addEventListener( 'orientationchange', updateWndVars );\nwindow.addEventListener( 'load', updateWndVars );\ndomReady( () => {\n    updateWndVars( {\n        type: 'dom-loaded',\n    } );\n} );\n\n// list with all jarallax instances\n// need to render all in one scroll/resize event\nconst jarallaxList = [];\n\n// get all parents of the element.\nfunction getParents( elem ) {\n    const parents = [];\n\n    while ( null !== elem.parentElement ) {\n        elem = elem.parentElement;\n\n        if ( 1 === elem.nodeType ) {\n            parents.push( elem );\n        }\n    }\n\n    return parents;\n}\n\nfunction updateParallax() {\n    if ( ! jarallaxList.length ) {\n        return;\n    }\n\n    jarallaxList.forEach( ( data, k ) => {\n        const {\n            instance,\n            oldData,\n        } = data;\n\n        const clientRect = instance.$item.getBoundingClientRect();\n\n        const newData = {\n            width: clientRect.width,\n            height: clientRect.height,\n            top: clientRect.top,\n            bottom: clientRect.bottom,\n            wndW: window.innerWidth,\n            wndH,\n        };\n\n        const isResized = ! oldData\n                           || oldData.wndW !== newData.wndW\n                           || oldData.wndH !== newData.wndH\n                           || oldData.width !== newData.width\n                           || oldData.height !== newData.height;\n        const isScrolled = isResized\n                           || ! oldData\n                           || oldData.top !== newData.top\n                           || oldData.bottom !== newData.bottom;\n\n        jarallaxList[ k ].oldData = newData;\n\n        if ( isResized ) {\n            instance.onResize();\n        }\n        if ( isScrolled ) {\n            instance.onScroll();\n        }\n    } );\n\n    window.requestAnimationFrame( updateParallax );\n}\n\nlet instanceID = 0;\n\n// Jarallax class\nclass Jarallax {\n    constructor( item, userOptions ) {\n        const self = this;\n\n        self.instanceID = instanceID;\n        instanceID += 1;\n\n        self.$item = item;\n\n        self.defaults = {\n            type: 'scroll', // type of parallax: scroll, scale, opacity, scale-opacity, scroll-opacity\n            speed: 0.5, // supported value from -1 to 2\n            imgSrc: null,\n            imgElement: '.jarallax-img',\n            imgSize: 'cover',\n            imgPosition: '50% 50%',\n            imgRepeat: 'no-repeat', // supported only for background, not for <img> tag\n            keepImg: false, // keep <img> tag in it's default place\n            elementInViewport: null,\n            zIndex: -100,\n            disableParallax: false,\n            disableVideo: false,\n\n            // video\n            videoSrc: null,\n            videoStartTime: 0,\n            videoEndTime: 0,\n            videoVolume: 0,\n            videoLoop: true,\n            videoPlayOnlyVisible: true,\n            videoLazyLoading: true,\n\n            // events\n            onScroll: null, // function(calculations) {}\n            onInit: null, // function() {}\n            onDestroy: null, // function() {}\n            onCoverImage: null, // function() {}\n        };\n\n        // prepare data-options\n        const dataOptions = self.$item.dataset || {};\n        const pureDataOptions = {};\n        Object.keys( dataOptions ).forEach( ( key ) => {\n            const loweCaseOption = key.substr( 0, 1 ).toLowerCase() + key.substr( 1 );\n            if ( loweCaseOption && 'undefined' !== typeof self.defaults[ loweCaseOption ] ) {\n                pureDataOptions[ loweCaseOption ] = dataOptions[ key ];\n            }\n        } );\n\n        self.options = self.extend( {}, self.defaults, pureDataOptions, userOptions );\n        self.pureOptions = self.extend( {}, self.options );\n\n        // prepare 'true' and 'false' strings to boolean\n        Object.keys( self.options ).forEach( ( key ) => {\n            if ( 'true' === self.options[ key ] ) {\n                self.options[ key ] = true;\n            } else if ( 'false' === self.options[ key ] ) {\n                self.options[ key ] = false;\n            }\n        } );\n\n        // fix speed option [-1.0, 2.0]\n        self.options.speed = Math.min( 2, Math.max( -1, parseFloat( self.options.speed ) ) );\n\n        // prepare disableParallax callback\n        if ( 'string' === typeof self.options.disableParallax ) {\n            self.options.disableParallax = new RegExp( self.options.disableParallax );\n        }\n        if ( self.options.disableParallax instanceof RegExp ) {\n            const disableParallaxRegexp = self.options.disableParallax;\n            self.options.disableParallax = () => disableParallaxRegexp.test( navigator.userAgent );\n        }\n        if ( 'function' !== typeof self.options.disableParallax ) {\n            self.options.disableParallax = () => false;\n        }\n\n        // prepare disableVideo callback\n        if ( 'string' === typeof self.options.disableVideo ) {\n            self.options.disableVideo = new RegExp( self.options.disableVideo );\n        }\n        if ( self.options.disableVideo instanceof RegExp ) {\n            const disableVideoRegexp = self.options.disableVideo;\n            self.options.disableVideo = () => disableVideoRegexp.test( navigator.userAgent );\n        }\n        if ( 'function' !== typeof self.options.disableVideo ) {\n            self.options.disableVideo = () => false;\n        }\n\n        // custom element to check if parallax in viewport\n        let elementInVP = self.options.elementInViewport;\n        // get first item from array\n        if ( elementInVP && 'object' === typeof elementInVP && 'undefined' !== typeof elementInVP.length ) {\n            [ elementInVP ] = elementInVP;\n        }\n        // check if dom element\n        if ( ! ( elementInVP instanceof Element ) ) {\n            elementInVP = null;\n        }\n        self.options.elementInViewport = elementInVP;\n\n        self.image = {\n            src: self.options.imgSrc || null,\n            $container: null,\n            useImgTag: false,\n\n            // position fixed is needed for the most of browsers because absolute position have glitches\n            // on MacOS with smooth scroll there is a huge lags with absolute position - https://github.com/nk-o/jarallax/issues/75\n            // on mobile devices better scrolled with absolute position\n            position: /iPad|iPhone|iPod|Android/.test( navigator.userAgent ) ? 'absolute' : 'fixed',\n        };\n\n        if ( self.initImg() && self.canInitParallax() ) {\n            self.init();\n        }\n    }\n\n    // add styles to element\n    // eslint-disable-next-line class-methods-use-this\n    css( el, styles ) {\n        if ( 'string' === typeof styles ) {\n            return window.getComputedStyle( el ).getPropertyValue( styles );\n        }\n\n        // add transform property with vendor prefix\n        if ( styles.transform && supportTransform ) {\n            styles[ supportTransform ] = styles.transform;\n        }\n\n        Object.keys( styles ).forEach( ( key ) => {\n            el.style[ key ] = styles[ key ];\n        } );\n        return el;\n    }\n\n    // Extend like jQuery.extend\n    // eslint-disable-next-line class-methods-use-this\n    extend( out, ...args ) {\n        out = out || {};\n\n        Object.keys( args ).forEach( ( i ) => {\n            if ( ! args[ i ] ) {\n                return;\n            }\n            Object.keys( args[ i ] ).forEach( ( key ) => {\n                out[ key ] = args[ i ][ key ];\n            } );\n        } );\n\n        return out;\n    }\n\n    // get window size and scroll position. Useful for extensions\n    // eslint-disable-next-line class-methods-use-this\n    getWindowData() {\n        return {\n            width: window.innerWidth || document.documentElement.clientWidth,\n            height: wndH,\n            y: document.documentElement.scrollTop,\n        };\n    }\n\n    // Jarallax functions\n    initImg() {\n        const self = this;\n\n        // find image element\n        let $imgElement = self.options.imgElement;\n        if ( $imgElement && 'string' === typeof $imgElement ) {\n            $imgElement = self.$item.querySelector( $imgElement );\n        }\n\n        // check if dom element\n        if ( ! ( $imgElement instanceof Element ) ) {\n            if ( self.options.imgSrc ) {\n                $imgElement = new Image();\n                $imgElement.src = self.options.imgSrc;\n            } else {\n                $imgElement = null;\n            }\n        }\n\n        if ( $imgElement ) {\n            if ( self.options.keepImg ) {\n                self.image.$item = $imgElement.cloneNode( true );\n            } else {\n                self.image.$item = $imgElement;\n                self.image.$itemParent = $imgElement.parentNode;\n            }\n            self.image.useImgTag = true;\n        }\n\n        // true if there is img tag\n        if ( self.image.$item ) {\n            return true;\n        }\n\n        // get image src\n        if ( null === self.image.src ) {\n            self.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n            self.image.bgImage = self.css( self.$item, 'background-image' );\n        }\n        return ! ( ! self.image.bgImage || 'none' === self.image.bgImage );\n    }\n\n    canInitParallax() {\n        return supportTransform && ! this.options.disableParallax();\n    }\n\n    init() {\n        const self = this;\n        const containerStyles = {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden',\n        };\n        let imageStyles = {\n            pointerEvents: 'none',\n            transformStyle: 'preserve-3d',\n            backfaceVisibility: 'hidden',\n            willChange: 'transform,opacity',\n        };\n\n        if ( ! self.options.keepImg ) {\n            // save default user styles\n            const curStyle = self.$item.getAttribute( 'style' );\n            if ( curStyle ) {\n                self.$item.setAttribute( 'data-jarallax-original-styles', curStyle );\n            }\n            if ( self.image.useImgTag ) {\n                const curImgStyle = self.image.$item.getAttribute( 'style' );\n                if ( curImgStyle ) {\n                    self.image.$item.setAttribute( 'data-jarallax-original-styles', curImgStyle );\n                }\n            }\n        }\n\n        // set relative position and z-index to the parent\n        if ( 'static' === self.css( self.$item, 'position' ) ) {\n            self.css( self.$item, {\n                position: 'relative',\n            } );\n        }\n        if ( 'auto' === self.css( self.$item, 'z-index' ) ) {\n            self.css( self.$item, {\n                zIndex: 0,\n            } );\n        }\n\n        // container for parallax image\n        self.image.$container = document.createElement( 'div' );\n        self.css( self.image.$container, containerStyles );\n        self.css( self.image.$container, {\n            'z-index': self.options.zIndex,\n        } );\n\n        // fix for IE https://github.com/nk-o/jarallax/issues/110\n        if ( isIE ) {\n            self.css( self.image.$container, {\n                opacity: 0.9999,\n            } );\n        }\n\n        self.image.$container.setAttribute( 'id', `jarallax-container-${ self.instanceID }` );\n        self.$item.appendChild( self.image.$container );\n\n        // use img tag\n        if ( self.image.useImgTag ) {\n            imageStyles = self.extend( {\n                'object-fit': self.options.imgSize,\n                'object-position': self.options.imgPosition,\n                // support for plugin https://github.com/bfred-it/object-fit-images\n                'font-family': `object-fit: ${ self.options.imgSize }; object-position: ${ self.options.imgPosition };`,\n                'max-width': 'none',\n            }, containerStyles, imageStyles );\n\n        // use div with background image\n        } else {\n            self.image.$item = document.createElement( 'div' );\n            if ( self.image.src ) {\n                imageStyles = self.extend( {\n                    'background-position': self.options.imgPosition,\n                    'background-size': self.options.imgSize,\n                    'background-repeat': self.options.imgRepeat,\n                    'background-image': self.image.bgImage || `url(\"${ self.image.src }\")`,\n                }, containerStyles, imageStyles );\n            }\n        }\n\n        if ( 'opacity' === self.options.type || 'scale' === self.options.type || 'scale-opacity' === self.options.type || 1 === self.options.speed ) {\n            self.image.position = 'absolute';\n        }\n\n        // 1. Check if one of parents have transform style (without this check, scroll transform will be inverted if used parallax with position fixed)\n        //    discussion - https://github.com/nk-o/jarallax/issues/9\n        // 2. Check if parents have overflow scroll\n        if ( 'fixed' === self.image.position ) {\n            const $parents = getParents( self.$item ).filter( ( el ) => {\n                const styles = window.getComputedStyle( el );\n                const parentTransform = styles[ '-webkit-transform' ] || styles[ '-moz-transform' ] || styles.transform;\n                const overflowRegex = /(auto|scroll)/;\n\n                return ( parentTransform && 'none' !== parentTransform ) || overflowRegex.test( styles.overflow + styles[ 'overflow-y' ] + styles[ 'overflow-x' ] );\n            } );\n\n            self.image.position = $parents.length ? 'absolute' : 'fixed';\n        }\n\n        // add position to parallax block\n        imageStyles.position = self.image.position;\n\n        // insert parallax image\n        self.css( self.image.$item, imageStyles );\n        self.image.$container.appendChild( self.image.$item );\n\n        // set initial position and size\n        self.onResize();\n        self.onScroll( true );\n\n        // call onInit event\n        if ( self.options.onInit ) {\n            self.options.onInit.call( self );\n        }\n\n        // remove default user background\n        if ( 'none' !== self.css( self.$item, 'background-image' ) ) {\n            self.css( self.$item, {\n                'background-image': 'none',\n            } );\n        }\n\n        self.addToParallaxList();\n    }\n\n    // add to parallax instances list\n    addToParallaxList() {\n        jarallaxList.push( {\n            instance: this,\n        } );\n\n        if ( 1 === jarallaxList.length ) {\n            window.requestAnimationFrame( updateParallax );\n        }\n    }\n\n    // remove from parallax instances list\n    removeFromParallaxList() {\n        const self = this;\n\n        jarallaxList.forEach( ( data, key ) => {\n            if ( data.instance.instanceID === self.instanceID ) {\n                jarallaxList.splice( key, 1 );\n            }\n        } );\n    }\n\n    destroy() {\n        const self = this;\n\n        self.removeFromParallaxList();\n\n        // return styles on container as before jarallax init\n        const originalStylesTag = self.$item.getAttribute( 'data-jarallax-original-styles' );\n        self.$item.removeAttribute( 'data-jarallax-original-styles' );\n        // null occurs if there is no style tag before jarallax init\n        if ( ! originalStylesTag ) {\n            self.$item.removeAttribute( 'style' );\n        } else {\n            self.$item.setAttribute( 'style', originalStylesTag );\n        }\n\n        if ( self.image.useImgTag ) {\n            // return styles on img tag as before jarallax init\n            const originalStylesImgTag = self.image.$item.getAttribute( 'data-jarallax-original-styles' );\n            self.image.$item.removeAttribute( 'data-jarallax-original-styles' );\n            // null occurs if there is no style tag before jarallax init\n            if ( ! originalStylesImgTag ) {\n                self.image.$item.removeAttribute( 'style' );\n            } else {\n                self.image.$item.setAttribute( 'style', originalStylesTag );\n            }\n\n            // move img tag to its default position\n            if ( self.image.$itemParent ) {\n                self.image.$itemParent.appendChild( self.image.$item );\n            }\n        }\n\n        // remove additional dom elements\n        if ( self.$clipStyles ) {\n            self.$clipStyles.parentNode.removeChild( self.$clipStyles );\n        }\n        if ( self.image.$container ) {\n            self.image.$container.parentNode.removeChild( self.image.$container );\n        }\n\n        // call onDestroy event\n        if ( self.options.onDestroy ) {\n            self.options.onDestroy.call( self );\n        }\n\n        // delete jarallax from item\n        delete self.$item.jarallax;\n    }\n\n    // it will remove some image overlapping\n    // overlapping occur due to an image position fixed inside absolute position element\n    clipContainer() {\n        // needed only when background in fixed position\n        if ( 'fixed' !== this.image.position ) {\n            return;\n        }\n\n        const self = this;\n        const rect = self.image.$container.getBoundingClientRect();\n        const { width, height } = rect;\n\n        if ( ! self.$clipStyles ) {\n            self.$clipStyles = document.createElement( 'style' );\n            self.$clipStyles.setAttribute( 'type', 'text/css' );\n            self.$clipStyles.setAttribute( 'id', `jarallax-clip-${ self.instanceID }` );\n            const head = document.head || document.getElementsByTagName( 'head' )[ 0 ];\n            head.appendChild( self.$clipStyles );\n        }\n\n        // clip is used for old browsers.\n        // clip-path for modern browsers (also fixes Safari v14 bug https://github.com/nk-o/jarallax/issues/181 ).\n        const styles = `#jarallax-container-${ self.instanceID } {\n            clip: rect(0 ${ width }px ${ height }px 0);\n            clip: rect(0, ${ width }px, ${ height }px, 0);\n            -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\n            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\n        }`;\n\n        // add clip styles inline (this method need for support IE8 and less browsers)\n        if ( self.$clipStyles.styleSheet ) {\n            self.$clipStyles.styleSheet.cssText = styles;\n        } else {\n            self.$clipStyles.innerHTML = styles;\n        }\n    }\n\n    coverImage() {\n        const self = this;\n\n        const rect = self.image.$container.getBoundingClientRect();\n        const contH = rect.height;\n        const { speed } = self.options;\n        const isScroll = 'scroll' === self.options.type || 'scroll-opacity' === self.options.type;\n        let scrollDist = 0;\n        let resultH = contH;\n        let resultMT = 0;\n\n        // scroll parallax\n        if ( isScroll ) {\n            // scroll distance and height for image\n            if ( 0 > speed ) {\n                scrollDist = speed * Math.max( contH, wndH );\n\n                if ( wndH < contH ) {\n                    scrollDist -= speed * ( contH - wndH );\n                }\n            } else {\n                scrollDist = speed * ( contH + wndH );\n            }\n\n            // size for scroll parallax\n            if ( 1 < speed ) {\n                resultH = Math.abs( scrollDist - wndH );\n            } else if ( 0 > speed ) {\n                resultH = scrollDist / speed + Math.abs( scrollDist );\n            } else {\n                resultH += ( wndH - contH ) * ( 1 - speed );\n            }\n\n            scrollDist /= 2;\n        }\n\n        // store scroll distance\n        self.parallaxScrollDistance = scrollDist;\n\n        // vertical center\n        if ( isScroll ) {\n            resultMT = ( wndH - resultH ) / 2;\n        } else {\n            resultMT = ( contH - resultH ) / 2;\n        }\n\n        // apply result to item\n        self.css( self.image.$item, {\n            height: `${ resultH }px`,\n            marginTop: `${ resultMT }px`,\n            left: 'fixed' === self.image.position ? `${ rect.left }px` : '0',\n            width: `${ rect.width }px`,\n        } );\n\n        // call onCoverImage event\n        if ( self.options.onCoverImage ) {\n            self.options.onCoverImage.call( self );\n        }\n\n        // return some useful data. Used in the video cover function\n        return {\n            image: {\n                height: resultH,\n                marginTop: resultMT,\n            },\n            container: rect,\n        };\n    }\n\n    isVisible() {\n        return this.isElementInViewport || false;\n    }\n\n    onScroll( force ) {\n        const self = this;\n\n        const rect = self.$item.getBoundingClientRect();\n        const contT = rect.top;\n        const contH = rect.height;\n        const styles = {};\n\n        // check if in viewport\n        let viewportRect = rect;\n        if ( self.options.elementInViewport ) {\n            viewportRect = self.options.elementInViewport.getBoundingClientRect();\n        }\n        self.isElementInViewport = 0 <= viewportRect.bottom\n            && 0 <= viewportRect.right\n            && viewportRect.top <= wndH\n            && viewportRect.left <= window.innerWidth;\n\n        // stop calculations if item is not in viewport\n        if ( force ? false : ! self.isElementInViewport ) {\n            return;\n        }\n\n        // calculate parallax helping variables\n        const beforeTop = Math.max( 0, contT );\n        const beforeTopEnd = Math.max( 0, contH + contT );\n        const afterTop = Math.max( 0, -contT );\n        const beforeBottom = Math.max( 0, contT + contH - wndH );\n        const beforeBottomEnd = Math.max( 0, contH - ( contT + contH - wndH ) );\n        const afterBottom = Math.max( 0, -contT + wndH - contH );\n        const fromViewportCenter = 1 - 2 * ( ( wndH - contT ) / ( wndH + contH ) );\n\n        // calculate on how percent of section is visible\n        let visiblePercent = 1;\n        if ( contH < wndH ) {\n            visiblePercent = 1 - ( afterTop || beforeBottom ) / contH;\n        } else if ( beforeTopEnd <= wndH ) {\n            visiblePercent = beforeTopEnd / wndH;\n        } else if ( beforeBottomEnd <= wndH ) {\n            visiblePercent = beforeBottomEnd / wndH;\n        }\n\n        // opacity\n        if ( 'opacity' === self.options.type || 'scale-opacity' === self.options.type || 'scroll-opacity' === self.options.type ) {\n            styles.transform = 'translate3d(0,0,0)';\n            styles.opacity = visiblePercent;\n        }\n\n        // scale\n        if ( 'scale' === self.options.type || 'scale-opacity' === self.options.type ) {\n            let scale = 1;\n            if ( 0 > self.options.speed ) {\n                scale -= self.options.speed * visiblePercent;\n            } else {\n                scale += self.options.speed * ( 1 - visiblePercent );\n            }\n            styles.transform = `scale(${ scale }) translate3d(0,0,0)`;\n        }\n\n        // scroll\n        if ( 'scroll' === self.options.type || 'scroll-opacity' === self.options.type ) {\n            let positionY = self.parallaxScrollDistance * fromViewportCenter;\n\n            // fix if parallax block in absolute position\n            if ( 'absolute' === self.image.position ) {\n                positionY -= contT;\n            }\n\n            styles.transform = `translate3d(0,${ positionY }px,0)`;\n        }\n\n        self.css( self.image.$item, styles );\n\n        // call onScroll event\n        if ( self.options.onScroll ) {\n            self.options.onScroll.call( self, {\n                section: rect,\n\n                beforeTop,\n                beforeTopEnd,\n                afterTop,\n                beforeBottom,\n                beforeBottomEnd,\n                afterBottom,\n\n                visiblePercent,\n                fromViewportCenter,\n            } );\n        }\n    }\n\n    onResize() {\n        this.coverImage();\n        this.clipContainer();\n    }\n}\n\n// global definition\nconst plugin = function( items, options, ...args ) {\n    // check for dom element\n    // thanks: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n    if ( 'object' === typeof HTMLElement ? items instanceof HTMLElement : items && 'object' === typeof items && null !== items && 1 === items.nodeType && 'string' === typeof items.nodeName ) {\n        items = [ items ];\n    }\n\n    const len = items.length;\n    let k = 0;\n    let ret;\n\n    for ( k; k < len; k += 1 ) {\n        if ( 'object' === typeof options || 'undefined' === typeof options ) {\n            if ( ! items[ k ].jarallax ) {\n                items[ k ].jarallax = new Jarallax( items[ k ], options );\n            }\n        } else if ( items[ k ].jarallax ) {\n            // eslint-disable-next-line prefer-spread\n            ret = items[ k ].jarallax[ options ].apply( items[ k ].jarallax, args );\n        }\n        if ( 'undefined' !== typeof ret ) {\n            return ret;\n        }\n    }\n\n    return items;\n};\nplugin.constructor = Jarallax;\n\nexport default plugin;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/* eslint no-case-declarations: \"off\" */\nimport global from 'global';\n\nexport default function jarallaxElement( jarallax = global.jarallax ) {\n    if ( 'undefined' === typeof jarallax ) {\n        return;\n    }\n\n    const Jarallax = jarallax.constructor;\n\n    // redefine default methods\n    [\n        'initImg',\n        'canInitParallax',\n        'init',\n        'destroy',\n        'clipContainer',\n        'coverImage',\n        'isVisible',\n        'onScroll',\n        'onResize',\n    ].forEach( ( key ) => {\n        const def = Jarallax.prototype[ key ];\n        Jarallax.prototype[ key ] = function( ...args ) {\n            const self = this;\n\n            if ( 'initImg' === key && null !== self.$item.getAttribute( 'data-jarallax-element' ) ) {\n                self.options.type = 'element';\n                self.pureOptions.speed = self.$item.getAttribute( 'data-jarallax-element' ) || self.pureOptions.speed;\n            }\n            if ( 'element' !== self.options.type ) {\n                return def.apply( self, args );\n            }\n\n            self.pureOptions.threshold = self.$item.getAttribute( 'data-threshold' ) || '';\n\n            switch ( key ) {\n            case 'init':\n                const speedArr = self.pureOptions.speed.split( ' ' );\n                self.options.speed = self.pureOptions.speed || 0;\n                self.options.speedY = speedArr[ 0 ] ? parseFloat( speedArr[ 0 ] ) : 0;\n                self.options.speedX = speedArr[ 1 ] ? parseFloat( speedArr[ 1 ] ) : 0;\n\n                const thresholdArr = self.pureOptions.threshold.split( ' ' );\n                self.options.thresholdY = thresholdArr[ 0 ] ? parseFloat( thresholdArr[ 0 ] ) : null;\n                self.options.thresholdX = thresholdArr[ 1 ] ? parseFloat( thresholdArr[ 1 ] ) : null;\n\n                def.apply( self, args );\n\n                // restore background image if available.\n                const originalStylesTag = self.$item.getAttribute( 'data-jarallax-original-styles' );\n                if ( originalStylesTag ) {\n                    self.$item.setAttribute( 'style', originalStylesTag );\n                }\n\n                return true;\n            case 'onResize':\n                const defTransform = self.css( self.$item, 'transform' );\n                self.css( self.$item, { transform: '' } );\n                const rect = self.$item.getBoundingClientRect();\n                self.itemData = {\n                    width: rect.width,\n                    height: rect.height,\n                    y: rect.top + self.getWindowData().y,\n                    x: rect.left,\n                };\n                self.css( self.$item, { transform: defTransform } );\n                break;\n            case 'onScroll':\n                const wnd = self.getWindowData();\n                const centerPercent = ( wnd.y + wnd.height / 2 - self.itemData.y - self.itemData.height / 2 ) / ( wnd.height / 2 );\n                const moveY = centerPercent * self.options.speedY;\n                const moveX = centerPercent * self.options.speedX;\n                let my = moveY;\n                let mx = moveX;\n                if ( null !== self.options.thresholdY && moveY > self.options.thresholdY ) my = 0;\n                if ( null !== self.options.thresholdX && moveX > self.options.thresholdX ) mx = 0;\n                self.css( self.$item, { transform: `translate3d(${ mx }px,${ my }px,0)` } );\n                break;\n            case 'initImg':\n            case 'isVisible':\n            case 'clipContainer':\n            case 'coverImage':\n                return true;\n            // no default\n            }\n            return def.apply( self, args );\n        };\n    } );\n}\n","const jarallax = require( './src/jarallax.esm' ).default;\nconst jarallaxVideo = require( './src/jarallax-video.esm' ).default;\nconst jarallaxElement = require( './src/jarallax-element.esm' ).default;\n\nmodule.exports = {\n    jarallax,\n    jarallaxElement() {\n        return jarallaxElement( jarallax );\n    },\n    jarallaxVideo() {\n        return jarallaxVideo( jarallax );\n    },\n};\n","import global from 'global';\n\n// Deferred\n// thanks http://stackoverflow.com/questions/18096715/implement-deferred-object-without-using-jquery\nfunction Deferred() {\n    this.doneCallbacks = [];\n    this.failCallbacks = [];\n}\n\nDeferred.prototype = {\n    execute( list, args ) {\n        let i = list.length;\n        args = Array.prototype.slice.call( args );\n\n        while ( i ) {\n            i -= 1;\n            list[ i ].apply( null, args );\n        }\n    },\n    resolve( ...args ) {\n        this.execute( this.doneCallbacks, args );\n    },\n    reject( ...args ) {\n        this.execute( this.failCallbacks, args );\n    },\n    done( callback ) {\n        this.doneCallbacks.push( callback );\n    },\n    fail( callback ) {\n        this.failCallbacks.push( callback );\n    },\n};\n\nlet ID = 0;\nlet YoutubeAPIadded = 0;\nlet VimeoAPIadded = 0;\nlet loadingYoutubePlayer = 0;\nlet loadingVimeoPlayer = 0;\nconst loadingYoutubeDefer = new Deferred();\nconst loadingVimeoDefer = new Deferred();\n\nexport default class VideoWorker {\n    constructor( url, options ) {\n        const self = this;\n\n        self.url = url;\n\n        self.options_default = {\n            autoplay: false,\n            loop: false,\n            mute: false,\n            volume: 100,\n            showContols: true,\n\n            // start / end video time in seconds\n            startTime: 0,\n            endTime: 0,\n        };\n\n        self.options = self.extend( {}, self.options_default, options );\n\n        // check URL\n        self.videoID = self.parseURL( url );\n\n        // init\n        if ( self.videoID ) {\n            self.ID = ID;\n            ID += 1;\n            self.loadAPI();\n            self.init();\n        }\n    }\n\n    // Extend like jQuery.extend\n    // eslint-disable-next-line class-methods-use-this\n    extend( ...args ) {\n        const out = args[ 0 ] || {};\n\n        Object.keys( args ).forEach( ( i ) => {\n            if ( ! args[ i ] ) {\n                return;\n            }\n            Object.keys( args[ i ] ).forEach( ( key ) => {\n                out[ key ] = args[ i ][ key ];\n            } );\n        } );\n\n        return out;\n    }\n\n    parseURL( url ) {\n        // parse youtube ID\n        function getYoutubeID( ytUrl ) {\n            // eslint-disable-next-line no-useless-escape\n            const regExp = /.*(?:youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/;\n            const match = ytUrl.match( regExp );\n            return match && 11 === match[ 1 ].length ? match[ 1 ] : false;\n        }\n\n        // parse vimeo ID\n        function getVimeoID( vmUrl ) {\n            // eslint-disable-next-line no-useless-escape\n            const regExp = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\n            const match = vmUrl.match( regExp );\n            return match && match[ 3 ] ? match[ 3 ] : false;\n        }\n\n        // parse local string\n        function getLocalVideos( locUrl ) {\n            // eslint-disable-next-line no-useless-escape\n            const videoFormats = locUrl.split( /,(?=mp4\\:|webm\\:|ogv\\:|ogg\\:)/ );\n            const result = {};\n            let ready = 0;\n            videoFormats.forEach( ( val ) => {\n                // eslint-disable-next-line no-useless-escape\n                const match = val.match( /^(mp4|webm|ogv|ogg)\\:(.*)/ );\n                if ( match && match[ 1 ] && match[ 2 ] ) {\n                    // eslint-disable-next-line prefer-destructuring\n                    result[ 'ogv' === match[ 1 ] ? 'ogg' : match[ 1 ] ] = match[ 2 ];\n                    ready = 1;\n                }\n            } );\n            return ready ? result : false;\n        }\n\n        const Youtube = getYoutubeID( url );\n        const Vimeo = getVimeoID( url );\n        const Local = getLocalVideos( url );\n\n        if ( Youtube ) {\n            this.type = 'youtube';\n            return Youtube;\n        }\n\n        if ( Vimeo ) {\n            this.type = 'vimeo';\n            return Vimeo;\n        }\n\n        if ( Local ) {\n            this.type = 'local';\n            return Local;\n        }\n\n        return false;\n    }\n\n    isValid() {\n        return !! this.videoID;\n    }\n\n    // events\n    on( name, callback ) {\n        this.userEventsList = this.userEventsList || [];\n\n        // add new callback in events list\n        ( this.userEventsList[ name ] || ( this.userEventsList[ name ] = [] ) ).push( callback );\n    }\n\n    off( name, callback ) {\n        if ( ! this.userEventsList || ! this.userEventsList[ name ] ) {\n            return;\n        }\n\n        if ( ! callback ) {\n            delete this.userEventsList[ name ];\n        } else {\n            this.userEventsList[ name ].forEach( ( val, key ) => {\n                if ( val === callback ) {\n                    this.userEventsList[ name ][ key ] = false;\n                }\n            } );\n        }\n    }\n\n    fire( name, ...args ) {\n        if ( this.userEventsList && 'undefined' !== typeof this.userEventsList[ name ] ) {\n            this.userEventsList[ name ].forEach( ( val ) => {\n                // call with all arguments\n                if ( val ) {\n                    val.apply( this, args );\n                }\n            } );\n        }\n    }\n\n    play( start ) {\n        const self = this;\n        if ( ! self.player ) {\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.playVideo ) {\n            if ( 'undefined' !== typeof start ) {\n                self.player.seekTo( start || 0 );\n            }\n            if ( global.YT.PlayerState.PLAYING !== self.player.getPlayerState() ) {\n                self.player.playVideo();\n            }\n        }\n\n        if ( 'vimeo' === self.type ) {\n            if ( 'undefined' !== typeof start ) {\n                self.player.setCurrentTime( start );\n            }\n            self.player.getPaused().then( ( paused ) => {\n                if ( paused ) {\n                    self.player.play();\n                }\n            } );\n        }\n\n        if ( 'local' === self.type ) {\n            if ( 'undefined' !== typeof start ) {\n                self.player.currentTime = start;\n            }\n            if ( self.player.paused ) {\n                self.player.play();\n            }\n        }\n    }\n\n    pause() {\n        const self = this;\n        if ( ! self.player ) {\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.pauseVideo ) {\n            if ( global.YT.PlayerState.PLAYING === self.player.getPlayerState() ) {\n                self.player.pauseVideo();\n            }\n        }\n\n        if ( 'vimeo' === self.type ) {\n            self.player.getPaused().then( ( paused ) => {\n                if ( ! paused ) {\n                    self.player.pause();\n                }\n            } );\n        }\n\n        if ( 'local' === self.type ) {\n            if ( ! self.player.paused ) {\n                self.player.pause();\n            }\n        }\n    }\n\n    mute() {\n        const self = this;\n        if ( ! self.player ) {\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.mute ) {\n            self.player.mute();\n        }\n\n        if ( 'vimeo' === self.type && self.player.setVolume ) {\n            self.player.setVolume( 0 );\n        }\n\n        if ( 'local' === self.type ) {\n            self.$video.muted = true;\n        }\n    }\n\n    unmute() {\n        const self = this;\n        if ( ! self.player ) {\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.mute ) {\n            self.player.unMute();\n        }\n\n        if ( 'vimeo' === self.type && self.player.setVolume ) {\n            self.player.setVolume( self.options.volume );\n        }\n\n        if ( 'local' === self.type ) {\n            self.$video.muted = false;\n        }\n    }\n\n    setVolume( volume = false ) {\n        const self = this;\n        if ( ! self.player || ! volume ) {\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.setVolume ) {\n            self.player.setVolume( volume );\n        }\n\n        if ( 'vimeo' === self.type && self.player.setVolume ) {\n            self.player.setVolume( volume );\n        }\n\n        if ( 'local' === self.type ) {\n            self.$video.volume = volume / 100;\n        }\n    }\n\n    getVolume( callback ) {\n        const self = this;\n        if ( ! self.player ) {\n            callback( false );\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.getVolume ) {\n            callback( self.player.getVolume() );\n        }\n\n        if ( 'vimeo' === self.type && self.player.getVolume ) {\n            self.player.getVolume().then( ( volume ) => {\n                callback( volume );\n            } );\n        }\n\n        if ( 'local' === self.type ) {\n            callback( self.$video.volume * 100 );\n        }\n    }\n\n    getMuted( callback ) {\n        const self = this;\n        if ( ! self.player ) {\n            callback( null );\n            return;\n        }\n\n        if ( 'youtube' === self.type && self.player.isMuted ) {\n            callback( self.player.isMuted() );\n        }\n\n        if ( 'vimeo' === self.type && self.player.getVolume ) {\n            self.player.getVolume().then( ( volume ) => {\n                callback( !! volume );\n            } );\n        }\n\n        if ( 'local' === self.type ) {\n            callback( self.$video.muted );\n        }\n    }\n\n    getImageURL( callback ) {\n        const self = this;\n\n        if ( self.videoImage ) {\n            callback( self.videoImage );\n            return;\n        }\n\n        if ( 'youtube' === self.type ) {\n            const availableSizes = [\n                'maxresdefault',\n                'sddefault',\n                'hqdefault',\n                '0',\n            ];\n            let step = 0;\n\n            const tempImg = new Image();\n            tempImg.onload = function() {\n                // if no thumbnail, youtube add their own image with width = 120px\n                if ( 120 !== ( this.naturalWidth || this.width ) || step === availableSizes.length - 1 ) {\n                    // ok\n                    self.videoImage = `https://img.youtube.com/vi/${ self.videoID }/${ availableSizes[ step ] }.jpg`;\n                    callback( self.videoImage );\n                } else {\n                    // try another size\n                    step += 1;\n                    this.src = `https://img.youtube.com/vi/${ self.videoID }/${ availableSizes[ step ] }.jpg`;\n                }\n            };\n            tempImg.src = `https://img.youtube.com/vi/${ self.videoID }/${ availableSizes[ step ] }.jpg`;\n        }\n\n        if ( 'vimeo' === self.type ) {\n            let request = new XMLHttpRequest();\n            request.open( 'GET', `https://vimeo.com/api/v2/video/${ self.videoID }.json`, true );\n            request.onreadystatechange = function() {\n                if ( 4 === this.readyState ) {\n                    if ( 200 <= this.status && 400 > this.status ) {\n                        // Success!\n                        const response = JSON.parse( this.responseText );\n                        self.videoImage = response[ 0 ].thumbnail_large;\n                        callback( self.videoImage );\n                    } else {\n                        // Error :(\n                    }\n                }\n            };\n            request.send();\n            request = null;\n        }\n    }\n\n    // fallback to the old version.\n    getIframe( callback ) {\n        this.getVideo( callback );\n    }\n\n    getVideo( callback ) {\n        const self = this;\n\n        // return generated video block\n        if ( self.$video ) {\n            callback( self.$video );\n            return;\n        }\n\n        // generate new video block\n        self.onAPIready( () => {\n            let hiddenDiv;\n            if ( ! self.$video ) {\n                hiddenDiv = document.createElement( 'div' );\n                hiddenDiv.style.display = 'none';\n            }\n\n            // Youtube\n            if ( 'youtube' === self.type ) {\n                self.playerOptions = {\n                    // GDPR Compliance.\n                    host: 'https://www.youtube-nocookie.com',\n                    videoId: self.videoID,\n                    playerVars: {\n                        autohide: 1,\n                        rel: 0,\n                        autoplay: 0,\n                        // autoplay enable on mobile devices\n                        playsinline: 1,\n                    },\n                };\n\n                // hide controls\n                if ( ! self.options.showContols ) {\n                    self.playerOptions.playerVars.iv_load_policy = 3;\n                    self.playerOptions.playerVars.modestbranding = 1;\n                    self.playerOptions.playerVars.controls = 0;\n                    self.playerOptions.playerVars.showinfo = 0;\n                    self.playerOptions.playerVars.disablekb = 1;\n                }\n\n                // events\n                let ytStarted;\n                let ytProgressInterval;\n                self.playerOptions.events = {\n                    onReady( e ) {\n                        // mute\n                        if ( self.options.mute ) {\n                            e.target.mute();\n                        } else if ( self.options.volume ) {\n                            e.target.setVolume( self.options.volume );\n                        }\n\n                        // autoplay\n                        if ( self.options.autoplay ) {\n                            self.play( self.options.startTime );\n                        }\n                        self.fire( 'ready', e );\n\n                        // For seamless loops, set the endTime to 0.1 seconds less than the video's duration\n                        // https://github.com/nk-o/video-worker/issues/2\n                        if ( self.options.loop && ! self.options.endTime ) {\n                            const secondsOffset = 0.1;\n                            self.options.endTime = self.player.getDuration() - secondsOffset;\n                        }\n\n                        // volumechange\n                        setInterval( () => {\n                            self.getVolume( ( volume ) => {\n                                if ( self.options.volume !== volume ) {\n                                    self.options.volume = volume;\n                                    self.fire( 'volumechange', e );\n                                }\n                            } );\n                        }, 150 );\n                    },\n                    onStateChange( e ) {\n                        // loop\n                        if ( self.options.loop && e.data === global.YT.PlayerState.ENDED ) {\n                            self.play( self.options.startTime );\n                        }\n                        if ( ! ytStarted && e.data === global.YT.PlayerState.PLAYING ) {\n                            ytStarted = 1;\n                            self.fire( 'started', e );\n                        }\n                        if ( e.data === global.YT.PlayerState.PLAYING ) {\n                            self.fire( 'play', e );\n                        }\n                        if ( e.data === global.YT.PlayerState.PAUSED ) {\n                            self.fire( 'pause', e );\n                        }\n                        if ( e.data === global.YT.PlayerState.ENDED ) {\n                            self.fire( 'ended', e );\n                        }\n\n                        // progress check\n                        if ( e.data === global.YT.PlayerState.PLAYING ) {\n                            ytProgressInterval = setInterval( () => {\n                                self.fire( 'timeupdate', e );\n\n                                // check for end of video and play again or stop\n                                if ( self.options.endTime && self.player.getCurrentTime() >= self.options.endTime ) {\n                                    if ( self.options.loop ) {\n                                        self.play( self.options.startTime );\n                                    } else {\n                                        self.pause();\n                                    }\n                                }\n                            }, 150 );\n                        } else {\n                            clearInterval( ytProgressInterval );\n                        }\n                    },\n                    onError( e ) {\n                        self.fire( 'error', e );\n                    },\n                };\n\n                const firstInit = ! self.$video;\n                if ( firstInit ) {\n                    const div = document.createElement( 'div' );\n                    div.setAttribute( 'id', self.playerID );\n                    hiddenDiv.appendChild( div );\n                    document.body.appendChild( hiddenDiv );\n                }\n                self.player = self.player || new global.YT.Player( self.playerID, self.playerOptions );\n                if ( firstInit ) {\n                    self.$video = document.getElementById( self.playerID );\n\n                    // get video width and height\n                    self.videoWidth = parseInt( self.$video.getAttribute( 'width' ), 10 ) || 1280;\n                    self.videoHeight = parseInt( self.$video.getAttribute( 'height' ), 10 ) || 720;\n                }\n            }\n\n            // Vimeo\n            if ( 'vimeo' === self.type ) {\n                self.playerOptions = {\n                    // GDPR Compliance.\n                    dnt: 1,\n                    id: self.videoID,\n                    autopause: 0,\n                    transparent: 0,\n                    autoplay: self.options.autoplay ? 1 : 0,\n                    loop: self.options.loop ? 1 : 0,\n                    muted: self.options.mute ? 1 : 0,\n                };\n\n                if ( self.options.volume ) {\n                    self.playerOptions.volume = self.options.volume;\n                }\n\n                // hide controls\n                if ( ! self.options.showContols ) {\n                    self.playerOptions.badge = 0;\n                    self.playerOptions.byline = 0;\n                    self.playerOptions.portrait = 0;\n                    self.playerOptions.title = 0;\n                    self.playerOptions.background = 1;\n                }\n\n                if ( ! self.$video ) {\n                    let playerOptionsString = '';\n                    Object.keys( self.playerOptions ).forEach( ( key ) => {\n                        if ( '' !== playerOptionsString ) {\n                            playerOptionsString += '&';\n                        }\n                        playerOptionsString += `${ key }=${ encodeURIComponent( self.playerOptions[ key ] ) }`;\n                    } );\n\n                    // we need to create iframe manually because when we create it using API\n                    // js events won't triggers after iframe moved to another place\n                    self.$video = document.createElement( 'iframe' );\n                    self.$video.setAttribute( 'id', self.playerID );\n                    self.$video.setAttribute( 'src', `https://player.vimeo.com/video/${ self.videoID }?${ playerOptionsString }` );\n                    self.$video.setAttribute( 'frameborder', '0' );\n                    self.$video.setAttribute( 'mozallowfullscreen', '' );\n                    self.$video.setAttribute( 'allowfullscreen', '' );\n\n                    hiddenDiv.appendChild( self.$video );\n                    document.body.appendChild( hiddenDiv );\n                }\n                self.player = self.player || new global.Vimeo.Player( self.$video, self.playerOptions );\n\n                // set current time for autoplay\n                if ( self.options.startTime && self.options.autoplay ) {\n                    self.player.setCurrentTime( self.options.startTime );\n                }\n\n                // get video width and height\n                self.player.getVideoWidth().then( ( width ) => {\n                    self.videoWidth = width || 1280;\n                } );\n                self.player.getVideoHeight().then( ( height ) => {\n                    self.videoHeight = height || 720;\n                } );\n\n                // events\n                let vmStarted;\n                self.player.on( 'timeupdate', ( e ) => {\n                    if ( ! vmStarted ) {\n                        self.fire( 'started', e );\n                        vmStarted = 1;\n                    }\n\n                    self.fire( 'timeupdate', e );\n\n                    // check for end of video and play again or stop\n                    if ( self.options.endTime ) {\n                        if ( self.options.endTime && e.seconds >= self.options.endTime ) {\n                            if ( self.options.loop ) {\n                                self.play( self.options.startTime );\n                            } else {\n                                self.pause();\n                            }\n                        }\n                    }\n                } );\n                self.player.on( 'play', ( e ) => {\n                    self.fire( 'play', e );\n\n                    // check for the start time and start with it\n                    if ( self.options.startTime && 0 === e.seconds ) {\n                        self.play( self.options.startTime );\n                    }\n                } );\n                self.player.on( 'pause', ( e ) => {\n                    self.fire( 'pause', e );\n                } );\n                self.player.on( 'ended', ( e ) => {\n                    self.fire( 'ended', e );\n                } );\n                self.player.on( 'loaded', ( e ) => {\n                    self.fire( 'ready', e );\n                } );\n                self.player.on( 'volumechange', ( e ) => {\n                    self.fire( 'volumechange', e );\n                } );\n                self.player.on( 'error', ( e ) => {\n                    self.fire( 'error', e );\n                } );\n            }\n\n            // Local\n            function addSourceToLocal( element, src, type ) {\n                const source = document.createElement( 'source' );\n                source.src = src;\n                source.type = type;\n                element.appendChild( source );\n            }\n            if ( 'local' === self.type ) {\n                if ( ! self.$video ) {\n                    self.$video = document.createElement( 'video' );\n\n                    // show controls\n                    if ( self.options.showContols ) {\n                        self.$video.controls = true;\n                    }\n\n                    // mute\n                    if ( self.options.mute ) {\n                        self.$video.muted = true;\n                    } else if ( self.$video.volume ) {\n                        self.$video.volume = self.options.volume / 100;\n                    }\n\n                    // loop\n                    if ( self.options.loop ) {\n                        self.$video.loop = true;\n                    }\n\n                    // autoplay enable on mobile devices\n                    self.$video.setAttribute( 'playsinline', '' );\n                    self.$video.setAttribute( 'webkit-playsinline', '' );\n\n                    self.$video.setAttribute( 'id', self.playerID );\n                    hiddenDiv.appendChild( self.$video );\n                    document.body.appendChild( hiddenDiv );\n\n                    Object.keys( self.videoID ).forEach( ( key ) => {\n                        addSourceToLocal( self.$video, self.videoID[ key ], `video/${ key }` );\n                    } );\n                }\n\n                self.player = self.player || self.$video;\n\n                let locStarted;\n                self.player.addEventListener( 'playing', ( e ) => {\n                    if ( ! locStarted ) {\n                        self.fire( 'started', e );\n                    }\n                    locStarted = 1;\n                } );\n                self.player.addEventListener( 'timeupdate', function( e ) {\n                    self.fire( 'timeupdate', e );\n\n                    // check for end of video and play again or stop\n                    if ( self.options.endTime ) {\n                        if ( self.options.endTime && this.currentTime >= self.options.endTime ) {\n                            if ( self.options.loop ) {\n                                self.play( self.options.startTime );\n                            } else {\n                                self.pause();\n                            }\n                        }\n                    }\n                } );\n                self.player.addEventListener( 'play', ( e ) => {\n                    self.fire( 'play', e );\n                } );\n                self.player.addEventListener( 'pause', ( e ) => {\n                    self.fire( 'pause', e );\n                } );\n                self.player.addEventListener( 'ended', ( e ) => {\n                    self.fire( 'ended', e );\n                } );\n                self.player.addEventListener( 'loadedmetadata', function() {\n                    // get video width and height\n                    self.videoWidth = this.videoWidth || 1280;\n                    self.videoHeight = this.videoHeight || 720;\n\n                    self.fire( 'ready' );\n\n                    // autoplay\n                    if ( self.options.autoplay ) {\n                        self.play( self.options.startTime );\n                    }\n                } );\n                self.player.addEventListener( 'volumechange', ( e ) => {\n                    self.getVolume( ( volume ) => {\n                        self.options.volume = volume;\n                    } );\n                    self.fire( 'volumechange', e );\n                } );\n                self.player.addEventListener( 'error', ( e ) => {\n                    self.fire( 'error', e );\n                } );\n            }\n            callback( self.$video );\n        } );\n    }\n\n    init() {\n        const self = this;\n\n        self.playerID = `VideoWorker-${ self.ID }`;\n    }\n\n    loadAPI() {\n        const self = this;\n\n        if ( YoutubeAPIadded && VimeoAPIadded ) {\n            return;\n        }\n\n        let src = '';\n\n        // load Youtube API\n        if ( 'youtube' === self.type && ! YoutubeAPIadded ) {\n            YoutubeAPIadded = 1;\n            src = 'https://www.youtube.com/iframe_api';\n        }\n\n        // load Vimeo API\n        if ( 'vimeo' === self.type && ! VimeoAPIadded ) {\n            VimeoAPIadded = 1;\n\n            // Useful when Vimeo API added using RequireJS https://github.com/nk-o/video-worker/pull/7\n            if ( 'undefined' !== typeof global.Vimeo ) {\n                return;\n            }\n\n            src = 'https://player.vimeo.com/api/player.js';\n        }\n\n        if ( ! src ) {\n            return;\n        }\n\n        // add script in head section\n        let tag = document.createElement( 'script' );\n        let head = document.getElementsByTagName( 'head' )[ 0 ];\n        tag.src = src;\n\n        head.appendChild( tag );\n\n        head = null;\n        tag = null;\n    }\n\n    onAPIready( callback ) {\n        const self = this;\n\n        // Youtube\n        if ( 'youtube' === self.type ) {\n            // Listen for global YT player callback\n            if ( ( 'undefined' === typeof global.YT || 0 === global.YT.loaded ) && ! loadingYoutubePlayer ) {\n                // Prevents Ready event from being called twice\n                loadingYoutubePlayer = 1;\n\n                // Creates deferred so, other players know when to wait.\n                window.onYouTubeIframeAPIReady = function() {\n                    window.onYouTubeIframeAPIReady = null;\n                    loadingYoutubeDefer.resolve( 'done' );\n                    callback();\n                };\n            } else if ( 'object' === typeof global.YT && 1 === global.YT.loaded ) {\n                callback();\n            } else {\n                loadingYoutubeDefer.done( () => {\n                    callback();\n                } );\n            }\n        }\n\n        // Vimeo\n        if ( 'vimeo' === self.type ) {\n            if ( 'undefined' === typeof global.Vimeo && ! loadingVimeoPlayer ) {\n                loadingVimeoPlayer = 1;\n                const vimeoInterval = setInterval( () => {\n                    if ( 'undefined' !== typeof global.Vimeo ) {\n                        clearInterval( vimeoInterval );\n                        loadingVimeoDefer.resolve( 'done' );\n                        callback();\n                    }\n                }, 20 );\n            } else if ( 'undefined' !== typeof global.Vimeo ) {\n                callback();\n            } else {\n                loadingVimeoDefer.done( () => {\n                    callback();\n                } );\n            }\n        }\n\n        // Local\n        if ( 'local' === self.type ) {\n            callback();\n        }\n    }\n}\n","import VideoWorker from 'video-worker';\nimport global from 'global';\n\nexport default function jarallaxVideo( jarallax = global.jarallax ) {\n    if ( 'undefined' === typeof jarallax ) {\n        return;\n    }\n\n    const Jarallax = jarallax.constructor;\n\n    // append video after when block will be visible.\n    const defOnScroll = Jarallax.prototype.onScroll;\n    Jarallax.prototype.onScroll = function() {\n        const self = this;\n\n        defOnScroll.apply( self );\n\n        const isReady = ! self.isVideoInserted\n                        && self.video\n                        && ( ! self.options.videoLazyLoading || self.isElementInViewport )\n                        && ! self.options.disableVideo();\n\n        if ( isReady ) {\n            self.isVideoInserted = true;\n\n            self.video.getVideo( ( video ) => {\n                const $parent = video.parentNode;\n                self.css( video, {\n                    position: self.image.position,\n                    top: '0px',\n                    left: '0px',\n                    right: '0px',\n                    bottom: '0px',\n                    width: '100%',\n                    height: '100%',\n                    maxWidth: 'none',\n                    maxHeight: 'none',\n                    pointerEvents: 'none',\n                    transformStyle: 'preserve-3d',\n                    backfaceVisibility: 'hidden',\n                    willChange: 'transform,opacity',\n                    margin: 0,\n                    zIndex: -1,\n                } );\n                self.$video = video;\n\n                // add Poster attribute to self-hosted video\n                if ( 'local' === self.video.type ) {\n                    if ( self.image.src ) {\n                        self.$video.setAttribute( 'poster', self.image.src );\n                    } else if ( self.image.$item && 'IMG' === self.image.$item.tagName && self.image.$item.src ) {\n                        self.$video.setAttribute( 'poster', self.image.$item.src );\n                    }\n                }\n\n                // insert video tag\n                self.image.$container.appendChild( video );\n\n                // remove parent video element (created by VideoWorker)\n                $parent.parentNode.removeChild( $parent );\n            } );\n        }\n    };\n\n    // cover video\n    const defCoverImage = Jarallax.prototype.coverImage;\n    Jarallax.prototype.coverImage = function() {\n        const self = this;\n        const imageData = defCoverImage.apply( self );\n        const node = self.image.$item ? self.image.$item.nodeName : false;\n\n        if ( imageData && self.video && node && ( 'IFRAME' === node || 'VIDEO' === node ) ) {\n            let h = imageData.image.height;\n            let w = ( h * self.image.width ) / self.image.height;\n            let ml = ( imageData.container.width - w ) / 2;\n            let mt = imageData.image.marginTop;\n\n            if ( imageData.container.width > w ) {\n                w = imageData.container.width;\n                h = ( w * self.image.height ) / self.image.width;\n                ml = 0;\n                mt += ( imageData.image.height - h ) / 2;\n            }\n\n            // add video height over than need to hide controls\n            if ( 'IFRAME' === node ) {\n                h += 400;\n                mt -= 200;\n            }\n\n            self.css( self.$video, {\n                width: `${ w }px`,\n                marginLeft: `${ ml }px`,\n                height: `${ h }px`,\n                marginTop: `${ mt }px`,\n            } );\n        }\n\n        return imageData;\n    };\n\n    // init video\n    const defInitImg = Jarallax.prototype.initImg;\n    Jarallax.prototype.initImg = function() {\n        const self = this;\n        const defaultResult = defInitImg.apply( self );\n\n        if ( ! self.options.videoSrc ) {\n            self.options.videoSrc = self.$item.getAttribute( 'data-jarallax-video' ) || null;\n        }\n\n        if ( self.options.videoSrc ) {\n            self.defaultInitImgResult = defaultResult;\n            return true;\n        }\n\n        return defaultResult;\n    };\n\n    const defCanInitParallax = Jarallax.prototype.canInitParallax;\n    Jarallax.prototype.canInitParallax = function() {\n        const self = this;\n        let defaultResult = defCanInitParallax.apply( self );\n\n        if ( ! self.options.videoSrc ) {\n            return defaultResult;\n        }\n\n        // Init video api\n        const video = new VideoWorker( self.options.videoSrc, {\n            autoplay: true,\n            loop: self.options.videoLoop,\n            showContols: false,\n            startTime: self.options.videoStartTime || 0,\n            endTime: self.options.videoEndTime || 0,\n            mute: self.options.videoVolume ? 0 : 1,\n            volume: self.options.videoVolume || 0,\n        } );\n\n        function resetDefaultImage() {\n            if ( self.image.$default_item ) {\n                self.image.$item = self.image.$default_item;\n                self.image.$item.style.display = 'block';\n\n                // set image width and height\n                self.coverImage();\n                self.clipContainer();\n                self.onScroll();\n            }\n        }\n\n        if ( video.isValid() ) {\n            // Force enable parallax.\n            // When the parallax disabled on mobile devices, we still need to display videos.\n            // https://github.com/nk-o/jarallax/issues/159\n            if ( this.options.disableParallax() ) {\n                defaultResult = true;\n                self.image.position = 'absolute';\n                self.options.type = 'scroll';\n                self.options.speed = 1;\n            }\n\n            // if parallax will not be inited, we can add thumbnail on background.\n            if ( ! defaultResult ) {\n                if ( ! self.defaultInitImgResult ) {\n                    video.getImageURL( ( url ) => {\n                        // save default user styles\n                        const curStyle = self.$item.getAttribute( 'style' );\n                        if ( curStyle ) {\n                            self.$item.setAttribute( 'data-jarallax-original-styles', curStyle );\n                        }\n\n                        // set new background\n                        self.css( self.$item, {\n                            'background-image': `url(\"${ url }\")`,\n                            'background-position': 'center',\n                            'background-size': 'cover',\n                        } );\n                    } );\n                }\n\n                // init video\n            } else {\n                video.on( 'ready', () => {\n                    if ( self.options.videoPlayOnlyVisible ) {\n                        const oldOnScroll = self.onScroll;\n                        self.onScroll = function() {\n                            oldOnScroll.apply( self );\n                            if ( ! self.videoError && ( self.options.videoLoop || ( ! self.options.videoLoop && ! self.videoEnded ) ) ) {\n                                if ( self.isVisible() ) {\n                                    video.play();\n                                } else {\n                                    video.pause();\n                                }\n                            }\n                        };\n                    } else {\n                        video.play();\n                    }\n                } );\n                video.on( 'started', () => {\n                    self.image.$default_item = self.image.$item;\n                    self.image.$item = self.$video;\n\n                    // set video width and height\n                    self.image.width = self.video.videoWidth || 1280;\n                    self.image.height = self.video.videoHeight || 720;\n                    self.coverImage();\n                    self.clipContainer();\n                    self.onScroll();\n\n                    // hide image\n                    if ( self.image.$default_item ) {\n                        self.image.$default_item.style.display = 'none';\n                    }\n                } );\n\n                video.on( 'ended', () => {\n                    self.videoEnded = true;\n\n                    if ( ! self.options.videoLoop ) {\n                        // show default image if Loop disabled.\n                        resetDefaultImage();\n                    }\n                } );\n                video.on( 'error', () => {\n                    self.videoError = true;\n\n                    // show default image if video loading error.\n                    resetDefaultImage();\n                } );\n\n                self.video = video;\n\n                // set image if not exists\n                if ( ! self.defaultInitImgResult ) {\n                    // set empty image on self-hosted video if not defined\n                    self.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\n                    if ( 'local' !== video.type ) {\n                        video.getImageURL( ( url ) => {\n                            self.image.bgImage = `url(\"${ url }\")`;\n                            self.init();\n                        } );\n\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return defaultResult;\n    };\n\n    // Destroy video parallax\n    const defDestroy = Jarallax.prototype.destroy;\n    Jarallax.prototype.destroy = function() {\n        const self = this;\n\n        if ( self.image.$default_item ) {\n            self.image.$item = self.image.$default_item;\n            delete self.image.$default_item;\n        }\n\n        defDestroy.apply( self );\n    };\n}\n","module.exports = function (callback) {\r\n\r\n\tif (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n\t\t// Already ready or interactive, execute callback\r\n\t\tcallback.call();\r\n\t}\r\n\telse if (document.attachEvent) {\r\n\t\t// Old browsers\r\n\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\tif (document.readyState === 'interactive')\r\n\t\t\t\tcallback.call();\r\n\t\t});\r\n\t}\r\n\telse if (document.addEventListener) {\r\n\t\t// Modern browsers\r\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\r\n\t}\r\n}\r\n"],"sourceRoot":""}